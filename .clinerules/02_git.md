# Git ルール

## Git ブランチルール

- ブランチ名を `cline/<type>/<description>` の形式で作成
- <type> は変更の種類を示す
  - feature: 新機能
  - fix: バグ修正
  - documentation: ドキュメントのみの変更
  - style: コードの意味に影響を与えない変更（空白、フォーマット、セミコロンの追加など）
  - refactor: バグ修正や機能追加のないコードの変更
  - test: テストの追加・修正
  - chore: ビルドプロセスやドキュメント生成などの補助ツールやライブラリの変更
- <description> は変更内容を簡潔に説明する英語の短い表現
  - 例: `add-post-feature`、`fix-login-bug` など


## Git コミット作成ルール

- 作業を分割した場合はその都度コミット
- コミットは小さく、1つの論理的な変更を含める
- コミットメッセージは日本語で記述可能
- プロンプト履歴は変更の追跡可能性のために必ず含める
- コミットメッセージは後述の規約に従う
- コミットの前に作業の都合で作成した余計なファイルを削除しておく
- コミットの前に、各言語のフォーマッター・リンターを実行し、コードの整形や静的解析を行う
- ステージングするファイルは `git status` コマンド、`git diff` コマンドを使用して、変更内容を確認し、必要なファイルを選択
- ステージング漏れのないよう、自分が変更したと思っているファイルだけでなく `git status` コマンドなどで変更のあったファイルを漏れなく含める

**避けるべき操作**:

   - 対話的なgitコマンド（-iフラグ）の使用
   - リモートリポジトリへの直接プッシュ
   - mainブランチへのコミット
   - git設定の変更
   - git管理が不要であることが分かっているファイルは含めない
   - 特にクレデンシャルなどの機密情報は絶対に含めない

## コミットメッセージ規約

### 1. 基本構造


<type>(<scope>): <subject>

<body>

<footer>

# プロンプト履歴
<prompt_history>


### 2. 各要素の説明

#### Type
- feature: 新機能
- fix: バグ修正
- docs: ドキュメントのみの変更
- style: コードの意味に影響を与えない変更（空白、フォーマット、セミコロンの追加など）
- refactor: バグ修正や機能追加のないコードの変更
- test: テストの追加・修正
- chore: ビルドプロセスやドキュメント生成などの補助ツールやライブラリの変更

#### Scope
- 変更の影響範囲を示す（例: `domain::user`, `infra::jetstream`, `app::worker` など、関連するモジュールやコンポーネント名）
- 複数のスコープがある場合はカンマで区切る
- 全体的な変更の場合は省略可能

#### Subject
- 変更内容を簡潔に要約

#### Body
- 変更の詳細な説明
- 改行して複数行で記述可能
- なぜその変更が必要だったのかの背景も含める
- 72文字で改行

### Footer

- 必要に応じて関連するIssue番号などを記載（例: `Closes #123`, `Refs #456`）

#### Prompt History
- ユーザーが指示したプロンプトの履歴を記載
- プロンプトに関連する追加のコンテキスト情報も含める

### 3. コミットメッセージの例

feature(reviews): ドキュメントレビュー承認機能を追加

- レビュー承認ワークフローを実装
- 承認条件のバリデーションを追加
- 承認履歴の追跡機能を実装


# プロンプト履歴
1. Q: 投稿機能の実装をお願いします
   A: 投稿を実装し、投稿条件のバリデーションを追加

2. Q: 投稿履歴の追加もお願いします
   A: 投稿履歴の追跡機能を実装し、履歴データの保存と表示機能を追加
   A: 投稿履歴の追跡機能を実装し、履歴データの保存と表示機能を追加
