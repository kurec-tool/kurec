# Rust 命名規則とインポートガイドライン (docs/crate_naming.md より)

## クレート命名規則

- **ライブラリクレート**: `{カテゴリ}_{機能}` (アンダースコア区切り)
    - 例: `infra_jetstream`, `shared_core`
- **アプリケーションクレート**: `{アプリ名}-{コンポーネント}` (ハイフン区切り)
    - 例: `kurec-app`, `kurec-cli`
- **重要**: ライブラリはアンダースコア(`_`)、アプリはハイフン(`-`)を使用し、混在させない。

## Cargo.tomlでの依存関係

- 内部依存関係は `path` を使用して指定する。
    ```toml
    infra_jetstream = { path = "../libs/infra/jetstream" }
    ```

## Rustコードでのインポート

- `Cargo.toml` で指定した名前と完全に一致させる。
    ```rust
    use infra_jetstream::JsPublisher; // 正しい
    ```

## 依存関係の変更

- チームへの通知、ドキュメント化、移行ガイド提供、移行期間設定を行う。

## ベストプラクティス

- 変更前に使用箇所を特定する。
- API変更時は互換性維持か移行パスを提供する。
- 定期的にプロジェクト全体をビルドする。
- 新規クレートは既存規則に従う。
- クレート名とファイルパスの一貫性を保つ。

## 環境変数

- 大文字のスネークケース (`NATS_URL`) を使用する。
- 使用箇所をドキュメント化する。
- デフォルト値を提供する。
- 検証を行う。

## APIの変更と互換性

- 非互換な変更はメジャーバージョンを上げる。
- 古いAPIは `#[deprecated]` で非推奨とし、代替手段を明記する。
